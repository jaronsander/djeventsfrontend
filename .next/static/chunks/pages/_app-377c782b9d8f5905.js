(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return e(8484)}])},1645:function(n,t,e){"use strict";e.d(t,{G:function(){return u},T:function(){return o}});var r=e(2025),o="https://boiling-inlet-63943.herokuapp.com/api",u=r.env.NEXT_PUBLIC_FRONTEND_URL||"http://localhost:3000"},4642:function(n,t,e){"use strict";e.d(t,{H:function(){return p}});var r=e(4051),o=e.n(r),u=e(5893),c=e(7294),i=e(1163),s=e(1645);function a(n,t,e,r,o,u,c){try{var i=n[u](c),s=i.value}catch(a){return void e(a)}i.done?t(s):Promise.resolve(s).then(r,o)}function f(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var u=n.apply(t,e);function c(n){a(u,r,o,c,i,"next",n)}function i(n){a(u,r,o,c,i,"throw",n)}c(void 0)}))}}var l=(0,c.createContext)(),p=function(n){var t=n.children,e=(0,c.useState)(null),r=e[0],a=e[1],p=(0,c.useState)(null),h=p[0],d=p[1],v=(0,i.useRouter)();(0,c.useEffect)((function(){function n(){return(n=f(o().mark((function n(){var t,e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s.G,"/api/user"));case 2:return t=n.sent,n.next=5,t.json();case 5:e=n.sent,t.ok?a(e.user):a(null);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var m=function(){var n=f(o().mark((function n(t){var e,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s.G,"/api/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e=n.sent,n.next=5,e.json();case 5:r=n.sent,e.ok?(a(r.user),v.push("/account/dashboard")):(d(r),console.log(r),d(null));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),w=function(){var n=f(o().mark((function n(t){var e,r,u,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.email,r=t.password,n.next=3,fetch("".concat(s.G,"/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:e,password:r})});case 3:return u=n.sent,n.next=6,u.json();case 6:c=n.sent,console.log(c),u.ok?(a(c.user),v.push("/account/dashboard")):(d(c),console.log(c));case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),y=function(){var n=f(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s.G,"/api/logout"),{method:"POST"});case 2:n.sent.ok&&(a(null),v.push("/"));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,u.jsx)(l.Provider,{value:{user:r,error:h,register:m,login:w,logout:y},children:t})};t.Z=l},8484:function(n,t,e){"use strict";e.r(t);var r=e(5893),o=(e(6774),e(4642));function u(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function c(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){u(n,t,e[t])}))}return n}t.default=function(n){var t=n.Component,e=n.pageProps;return(0,r.jsx)(o.H,{children:(0,r.jsx)(t,c({},e))})}},6774:function(){},1163:function(n,t,e){n.exports=e(880)},2025:function(n){var t,e,r=n.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(n){if(t===setTimeout)return setTimeout(n,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(n,0);try{return t(n,0)}catch(e){try{return t.call(null,n,0)}catch(e){return t.call(this,n,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(n){t=o}try{e="function"===typeof clearTimeout?clearTimeout:u}catch(n){e=u}}();var i,s=[],a=!1,f=-1;function l(){a&&i&&(a=!1,i.length?s=i.concat(s):f=-1,s.length&&p())}function p(){if(!a){var n=c(l);a=!0;for(var t=s.length;t;){for(i=s,s=[];++f<t;)i&&i[f].run();f=-1,t=s.length}i=null,a=!1,function(n){if(e===clearTimeout)return clearTimeout(n);if((e===u||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(n);try{e(n)}catch(t){try{return e.call(null,n)}catch(t){return e.call(this,n)}}}(n)}}function h(n,t){this.fun=n,this.array=t}function d(){}r.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];s.push(new h(n,t)),1!==s.length||a||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(n){return[]},r.binding=function(n){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(n){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},function(n){var t=function(t){return n(n.s=t)};n.O(0,[774,179],(function(){return t(1118),t(880)}));var e=n.O();_N_E=e}]);