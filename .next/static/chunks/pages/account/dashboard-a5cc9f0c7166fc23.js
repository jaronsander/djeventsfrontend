(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{44:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/dashboard",function(){return t(9962)}])},6490:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r=t(5893),s=t(9008),c=t.n(s),a=t(1163),o=t(9583),i=t(7294),d=t(1664),h=t.n(d),u=t(554),l=t.n(u);var x=function(){var e=(0,i.useState)(""),n=e[0],t=e[1],s=(0,a.useRouter)();return(0,r.jsx)("div",{className:l().search,children:(0,r.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.push("/events/search?term=".concat(n)),t("")},children:(0,r.jsx)("input",{type:"text",value:n,onChange:function(e){return t(e.target.value)},placeholder:"Search Events"})})})},v=t(4642),f=t(3695),j=t.n(f);var _=function(){var e=(0,i.useContext)(v.Z),n=e.user,t=e.logout;return(0,r.jsxs)("header",{className:j().header,children:[(0,r.jsx)("div",{className:j().logo,children:(0,r.jsx)(h(),{href:"/",children:(0,r.jsx)("a",{children:"DJ Events"})})}),(0,r.jsx)(x,{}),(0,r.jsx)("nav",{children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(h(),{href:"/events",children:(0,r.jsx)("a",{children:"Events"})})}),n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{children:(0,r.jsx)(h(),{href:"/events/add",children:(0,r.jsx)("a",{children:"Add Event"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(h(),{href:"/account/dashboard",children:(0,r.jsx)("a",{children:"Dashboard"})})}),(0,r.jsx)("li",{children:(0,r.jsxs)("button",{onClick:function(){return t()},className:"btn-secondary btn-icon",children:[(0,r.jsx)(o.fHX,{})," Logout"]})})]}):(0,r.jsx)("li",{children:(0,r.jsx)(h(),{href:"/account/login",children:(0,r.jsxs)("a",{className:"btn-secondary btn-icon",children:[(0,r.jsx)(o.IPB,{}),"Login"]})})})]})})]})},p=t(7246),m=t.n(p);var b=function(){return(0,r.jsxs)("footer",{className:m().footer,children:[(0,r.jsx)("p",{children:"Copywright \xa9 DJ Events 2022"}),(0,r.jsx)("p",{children:(0,r.jsx)(h(),{href:"/about",children:"About This Project"})})]})},E=t(253),w=t.n(E);var N=function(){return(0,r.jsxs)("div",{className:w().showcase,children:[(0,r.jsx)("h1",{children:"Welcome To The Party!"}),(0,r.jsx)("h2",{children:"Find the hottest DJ Events"})]})},D=t(9134),g=t.n(D);function k(e){var n=e.title,t=e.keywords,s=e.description,o=e.children,i=(0,a.useRouter)();return(0,r.jsxs)("div",{children:[(0,r.jsxs)(c(),{children:[(0,r.jsx)("title",{children:n}),(0,r.jsx)("meta",{name:"description",content:s}),(0,r.jsx)("meta",{name:"keywords",content:t})]}),(0,r.jsx)(_,{}),"/"===i.pathname&&(0,r.jsx)(N,{}),(0,r.jsx)("div",{className:g().container,children:o}),(0,r.jsx)(b,{})]})}k.defaultProps={title:"DJ Events",description:"The coolest events around town",keywords:"DJ, cool, Events"};var y=k},9962:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return p},default:function(){return m}});var r=t(4051),s=t.n(r),c=t(5893),a=t(6490),o=t(1163),i=t(1664),d=t.n(i),h=t(9583),u=t(9293),l=t.n(u);var x=function(e){var n=e.evt,t=e.handleDelete;return(0,c.jsxs)("div",{className:l().event,children:[(0,c.jsx)("h4",{children:(0,c.jsx)(d(),{href:"/events/".concat(n.attributes.slug),children:(0,c.jsx)("a",{children:n.attributes.name})})}),(0,c.jsx)(d(),{href:"/events/edit/".concat(n.id),children:(0,c.jsxs)("a",{className:l().edit,children:[(0,c.jsx)(h.KHI,{})," ",(0,c.jsx)("span",{children:"Edit Event"})]})}),(0,c.jsxs)("a",{href:"#",className:l().delete,onClick:function(){return t(n.id)},children:[(0,c.jsx)(h.aHS,{})," ",(0,c.jsx)("span",{children:"Delete"})]})]})},v=t(1645),f=t(6939),j=t.n(f);function _(e,n,t,r,s,c,a){try{var o=e[c](a),i=o.value}catch(d){return void t(d)}o.done?n(i):Promise.resolve(i).then(r,s)}var p=!0,m=function(e){var n=e.events,t=e.token,r=(0,o.useRouter)(),i=function(){var e,n=(e=s().mark((function e(n){var c,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure")){e.next=8;break}return e.next=3,fetch("".concat(v.T,"/events/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,c.ok?r.push("/events"):toast.error(a.message);case 8:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,s){var c=e.apply(n,t);function a(e){_(c,r,s,a,o,"next",e)}function o(e){_(c,r,s,a,o,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,c.jsx)(a.Z,{title:"User Dashboard",children:(0,c.jsxs)("div",{className:j().dash,children:[(0,c.jsx)("h1",{children:"Dashboard"}),(0,c.jsx)("h3",{children:"My Events"}),n.map((function(e){return(0,c.jsx)(x,{evt:e,handleDelete:i},e.id)}))]})})}},6939:function(e){e.exports={dash:"Dashboard_dash__zAbkP"}},9293:function(e){e.exports={event:"DashboardEvent_event__TF5ng",edit:"DashboardEvent_edit__idiHa",delete:"DashboardEvent_delete__3XuWC"}},7246:function(e){e.exports={footer:"Footer_footer__Tl1eP"}},3695:function(e){e.exports={header:"Header_header__VYZ3G",logo:"Header_logo__6vBZG"}},9134:function(e){e.exports={container:"Layout_container__S4aNf"}},554:function(e){e.exports={search:"Search_search__t4jaQ"}},253:function(e){e.exports={showcase:"Showcase_showcase__VZOKI"}}},function(e){e.O(0,[445,831,774,888,179],(function(){return n=44,e(e.s=n);var n}));var n=e.O();_N_E=n}]);